{"version":3,"sources":["sketch.js"],"names":["grid","s","setup","createCanvas","console","table","enterRandomNumber","draw","background","w","i","j","noFill","strokeWeight","stroke","rect","val","fill","textSize","textAlign","CENTER","text","keyPressed","key","operate","row","slide","combineVals","a","b","arr","filter","missing","length","zeroes","Array","concat","options","push","x","y","spot","random","r","myp5","p5"],"mappings":"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","file":"sketch.702e4367.js","sourceRoot":"..\\src","sourcesContent":["\r\nlet grid;\r\nvar s = function () {\r\n    setup = function () {\r\n        createCanvas(400, 400);\r\n        grid = [\r\n            [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]\r\n        ];\r\n        console.table(grid);\r\n        enterRandomNumber();\r\n        enterRandomNumber();\r\n        console.table(grid);\r\n    }\r\n\r\n    draw = function () {\r\n        background(255);\r\n        let w = 100;\r\n        for (i = 0; i < 4; i++) {\r\n            for (j = 0; j < 4; j++) {\r\n                noFill();\r\n                strokeWeight(2);\r\n                stroke(0);\r\n                rect(i * w, j * w, w, w);\r\n                let val = grid[i][j];\r\n                if (grid[i][j] !== 0) {\r\n                    fill(0);\r\n                    textSize(64);\r\n                    textAlign(CENTER, CENTER);\r\n                    text(val, i * w + w / 2, j * w + w / 2);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    keyPressed = function () {\r\n        if (key == ' ') {\r\n            for (i = 0; i < 4; i++) {\r\n                grid[i] = operate(grid[i]);\r\n            }\r\n        }\r\n        enterRandomNumber();\r\n        \r\n    }\r\n\r\n    operate = function (row) {\r\n        row = slide(row);\r\n        row = combineVals(row);\r\n        row = slide(row);\r\n        return row;\r\n    }\r\n\r\n    combineVals = function (row) {\r\n        for (i = 3; i >= 1; i--) {\r\n            let a = row[i];\r\n            let b = row[i - 1];\r\n            if (a === b) {\r\n                row[i] = a + b;\r\n                row[i - 1] = 0;\r\n            }\r\n        }\r\n        return row;\r\n    }\r\n\r\n    slide = function (row) {\r\n        let arr = row.filter(val => val);\r\n        let missing = 4 - arr.length;\r\n        let zeroes = Array(missing).fill(0);\r\n        arr = zeroes.concat(arr);\r\n        return arr;\r\n    }\r\n}\r\nfunction enterRandomNumber() {\r\n    let options = [];\r\n    for (i = 0; i < 4; i++) {\r\n        for (j = 0; j < 4; j++) {\r\n            if (grid[i][j] === 0) {\r\n                options.push({\r\n                    x: i,\r\n                    y: j\r\n                });\r\n            }\r\n        }\r\n    }\r\n    if (options.length > 0) {\r\n        let spot = random(options);\r\n        let r = random(1);\r\n        grid[spot.x][spot.y] = r > 0.1 ? 2 : 4;\r\n    }\r\n}\r\n\r\nvar myp5 = new p5(s);\r\n\r\n"]}